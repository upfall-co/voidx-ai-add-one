@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-black: #1a1a1a;
  --color-primary: #f2ff3c;
  --color-secondary: #ced300;
  --color-tertiary: #fcfcf0;
  --color-sky: #cffaff;
  --color-btn-blue: #3197ec;
  --color-beige: #f9f9eb;

  /* mediaQuery */
  --breakpoint-sm: 20rem; /* 320px */
  --breakpoint-md: 52.5rem; /* 840px */
  --breakpoint-lg: 80rem; /* 1280px */

  /* rotate slow */
  --animate-rotate-slow: rotateSlow 20s linear infinite;
  @keyframes rotateSlow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  /* wave */
  --animate-slosh: slosh 6s linear infinite;
  --animate-slosh-reverse: slosh 6s linear infinite reverse;

  @keyframes slosh {
    0% {
      transform: translateX(0);
    }
    100% {
      /* SVG 경로에서 한 사이클의 너비만큼 이동하여 완벽한 루프 생성 */
      transform: translateX(-160px);
    }
  }

  /* lightning*/
  --animate-lightning: lightning 0.5s ease-in-out infinite;
  @keyframes lightning {
    0%,
    100% {
      transform: translate(0, 0) rotate(0deg);
    }
    25% {
      transform: translate(-4px, 4px) rotate(-1deg);
    }
    50% {
      transform: translate(4px, -4px) rotate(1deg);
    }
    75% {
      transform: translate(-6px, 6px) rotate(-0.5deg);
    }
  }

  --animate-walk: walk 1.5s ease-in-out infinite;
  @keyframes walk {
    0%,
    100% {
      transform: translateX(0) rotate(0deg);
    }
    25% {
      transform: translateX(-80px) rotate(-1deg);
    }
    50% {
      transform: translateX(20px) rotate(1deg);
    }
    75% {
      transform: translateX(-20px) rotate(-1deg);
    }
  }

  --animate-irregular: irregular-bounce 2s ease-in-out infinite;
  @keyframes irregular-bounce {
    0%,
    100% {
      transform: scale3d(1, 1, 1);
    }
    10% {
      transform: scale3d(1.05, 0.95, 1);
    }
    25% {
      transform: scale3d(0.8, 1.2, 1);
    }
    40% {
      transform: scale3d(1.25, 0.75, 1);
    }
    55% {
      transform: scale3d(0.9, 1.1, 1);
    }
    70% {
      transform: scale3d(1.02, 0.98, 1);
    }
    85% {
      transform: scale3d(0.95, 1.05, 1);
    }
  }

  --animate-small-bounce: small-bounce 1s ease-in-out infinite;
  @keyframes small-bounce {
    0%,
    100% {
      transform: scale3d(1, 1, 1);
    }
    50% {
      transform: scale3d(0.9, 0.9, 1);
    }
  }

  --animate-fluffy: fluffy 1s ease-in-out infinite;
  @keyframes fluffy {
    0%,
    100% {
      transform: translateY(0) scale(1);
    }
    50% {
      transform: translateY(-20px) scale(1.05);
    }
  }

  --animate-zigzag: zigzag 1s ease-in-out infinite;
  @keyframes zigzag {
    0%,
    100% {
      transform: translateX(0) translateY(0) rotate(0deg);
    }
    25% {
      transform: translateX(-10px) translateY(-10px) rotate(-5deg);
    }
    50% {
      transform: translateX(10px) translateY(10px) rotate(5deg);
    }
    75% {
      transform: translateX(-10px) translateY(-10px) rotate(-5deg);
    }
  }

  --animate-heartbeat: heartbeat 2.5s ease-in-out infinite;
  @keyframes heartbeat {
    0%,
    100% {
      transform: scale(1) translateY(0);
      filter: drop-shadow(0 0 0 rgba(255, 255, 255, 0));
    }
    10% {
      transform: scale(1.15) translateY(-2px);
    }
    20% {
      transform: scale(0.95) translateY(1px);
      filter: drop-shadow(0px 0px 60px rgba(255, 106, 46, 0.9));
    }
    30% {
      transform: scale(1.1) translateY(-1px);
    }
    40% {
      transform: scale(0.98) translateY(0);
    }
    60% {
      transform: scale(1.15) translateY(-2px);
      filter: drop-shadow(0px 0px 60px rgba(255, 106, 46, 0.9));
    }
    80% {
      transform: scale(0.95) translateY(1px);
    }
  }

  --animate-plus-glow: plusGlow 2.5s ease-in-out infinite;
  @keyframes plusGlow {
    0% {
      filter: drop-shadow(0 0 0 rgba(255, 106, 46, 0));
    }
    10% {
      filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.4));
    } /* 1차 고조 */
    20% {
      filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.25));
    }
    30% {
      filter: drop-shadow(0 0 25px rgba(255, 255, 255, 0.5));
    } /* 반동 */
    40% {
      filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.25));
    }
    60% {
      filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.5));
    } /* 2차 고조 */
    80% {
      filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.15));
    }
    100% {
      filter: drop-shadow(0 0 0 rgba(255, 106, 46, 0));
    }
  }
}

.bg-glass {
  box-shadow: 0 10px 28px rgba(0, 0, 0, 0.18),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

.character {
  position: absolute;
  z-index: 0;
  pointer-events: none;
  user-select: none;
  filter: drop-shadow(0 12px 24px rgba(0, 0, 0, 0.15));
}
/* 모션 최소화 선호 시 애니메이션 제거 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}
